---
title: Changelog â€” Classificador de Eventos SMS com LATS
description: HistÃ³rico estruturado de mudanÃ§as, decisÃµes tÃ©cnicas e evoluÃ§Ã£o conceitual do projeto de classificaÃ§Ã£o normativa de eventos SMS utilizando LATS e LangGraph.
date: "2026-01-09"
authors:
  - bernardo-puppim
---

## ğŸ“œ Classificador de Eventos SMS com LATS

Este documento registra a **evoluÃ§Ã£o tÃ©cnica, conceitual e arquitetural** do projeto de ClassificaÃ§Ã£o de Eventos de SeguranÃ§a, Meio Ambiente e SaÃºde (SMS), baseado no paradigma **Language Agent Tree Search (LATS)** e orquestrado via **LangGraph**.

O changelog nÃ£o se limita a alteraÃ§Ãµes de cÃ³digo â€” ele documenta **decisÃµes de design**, **mudanÃ§as de escopo**, **aprendizados experimentais** e **ajustes de governanÃ§a**, garantindo **rastreabilidade tÃ©cnica e cientÃ­fica**.

---

## ğŸ§  Fase 0 â€” ConcepÃ§Ã£o e FundamentaÃ§Ã£o TeÃ³rica  
**PerÃ­odo:** ExploraÃ§Ã£o inicial

### âœ¨ Principais marcos
- DefiniÃ§Ã£o do problema: classificaÃ§Ã£o normativa de eventos SMS a partir de descriÃ§Ãµes textuais nÃ£o estruturadas.
- IdentificaÃ§Ã£o das limitaÃ§Ãµes de classificadores planos e regras rÃ­gidas.
- Escolha do **LATS (Language Agent Tree Search)** como base metodolÃ³gica, inspirado no artigo acadÃªmico original.
- DecisÃ£o de adotar **Ã¡rvores normativas configurÃ¡veis**, em vez de modelos puramente estatÃ­sticos.

### ğŸ§© DecisÃ£o-chave
> A classificaÃ§Ã£o deveria ser **explicÃ¡vel, auditÃ¡vel e governÃ¡vel**, mesmo que isso implicasse maior complexidade arquitetural.

---

## ğŸŒ± Fase 1 â€” Primeira Ãrvore Normativa  
**PerÃ­odo:** MVP conceitual

### âœ¨ Principais marcos
- ConstruÃ§Ã£o da primeira Ã¡rvore lÃ³gica baseada em normar abrangentes.
- ClassificaÃ§Ã£o por nÃ­veis (Classe 0 a Classe 5).
- RamificaÃ§Ãµes explÃ­citas para:
  - LesÃµes
  - DoenÃ§as ocupacionais
  - Danos ambientais
  - Danos ao patrimÃ´nio
  - Desvios operacionais
- Uso inicial de decisÃµes **binÃ¡rias (sim/nÃ£o)** mediadas por LLM.

### âš ï¸ LimitaÃ§Ãµes identificadas
- Baixa expressividade semÃ¢ntica das respostas binÃ¡rias.
- Fragilidade diante de descriÃ§Ãµes ambÃ­guas ou incompletas.
- AusÃªncia de medida explÃ­cita de incerteza.

---

## ğŸŒ¿ Fase 2 â€” Ãrvore Modular e Reuso de Engine  
**PerÃ­odo:** RefatoraÃ§Ã£o estrutural

### âœ¨ Principais marcos
- SeparaÃ§Ã£o formal entre:
  - **Engine de decisÃ£o** (Python fixo)
  - **Ãrvore normativa** (JSON)
  - **InterpretaÃ§Ã£o semÃ¢ntica** (prompts TXT)
- IntroduÃ§Ã£o do conceito de **Ã¡rvore modular reutilizÃ¡vel**.
- CriaÃ§Ã£o da funÃ§Ã£o genÃ©rica `classificar_evento_por_arvore_modular`.
- CompatibilizaÃ§Ã£o da Ã¡rvore com mÃºltiplos produtos normativos.

### ğŸ§© Ganho estratÃ©gico
> A simples troca do JSON passou a redefinir completamente o domÃ­nio de aplicaÃ§Ã£o, sem alterar o cÃ³digo-fonte.

---

## ğŸŒ³ Fase 3 â€” ExpansÃ£o para ANP (ResoluÃ§Ã£o nÂº 882/2022)  
**PerÃ­odo:** ConsolidaÃ§Ã£o regulatÃ³ria

### âœ¨ Principais marcos
- ConstruÃ§Ã£o de uma Ã¡rvore compatÃ­vel com:
  - ResoluÃ§Ã£o ANP nÂº 882/2022
  - Manual de ComunicaÃ§Ã£o de Incidentes ANP (2022)
- InclusÃ£o de tipologias especÃ­ficas:
  - Vazamentos e tipos de descarga
  - IncÃªndios e explosÃµes
  - Ferimentos e fatalidades
  - Homem ao mar
  - Falhas operacionais e perdas de carga
- ManutenÃ§Ã£o da **mesma engine LATS**, reforÃ§ando a reutilizaÃ§Ã£o.

---

## ğŸ”€ Fase 4 â€” TransiÃ§Ã£o de DecisÃµes BinÃ¡rias para InterpretaÃ§Ã£o Aberta  
**PerÃ­odo:** EvoluÃ§Ã£o cognitiva do agente

### âœ¨ Principais marcos
- Abandono definitivo de respostas estritamente binÃ¡rias.
- IntroduÃ§Ã£o de **respostas abertas interpretadas via LLM**.
- O LLM passa a:
  - Avaliar contexto
  - Justificar o caminho seguido
  - Mapear semanticamente a resposta para a ramificaÃ§Ã£o correta
- A Ã¡rvore deixa de ser apenas lÃ³gica e passa a ser **semÃ¢ntica + normativa**.

---

## ğŸ“Š Fase 5 â€” LATS ProbabilÃ­stico (LATS-P)  
**PerÃ­odo:** InovaÃ§Ã£o experimental

### âœ¨ Principais marcos
- IntroduÃ§Ã£o de **scores probabilÃ­sticos por ramificaÃ§Ã£o**.
- CÃ¡lculo acumulado de probabilidade ao longo do caminho.
- AvaliaÃ§Ã£o da **entropia de decisÃ£o** como sinal de incerteza.
- Primeira formulaÃ§Ã£o do conceito:
  > *â€œIncerteza como sinal de controle de primeira classeâ€*

### ğŸ§  Impacto conceitual
- O sistema deixa de â€œforÃ§arâ€ uma classificaÃ§Ã£o.
- Passa a reconhecer quando **nÃ£o sabe o suficiente**.

---

## ğŸ‘¥ Fase 6 â€” Human-in-the-Loop (HITL) como GovernanÃ§a  
**PerÃ­odo:** Maturidade operacional

### âœ¨ Principais marcos
- ImplementaÃ§Ã£o de **checkpoints humanos (`interrupt()`)** no LangGraph.
- AtivaÃ§Ã£o automÃ¡tica da revisÃ£o humana quando:
  - Entropia excede limiar definido
  - Probabilidades concorrentes sÃ£o similares
- Registro explÃ­cito da decisÃ£o humana no estado global.
- ReformulaÃ§Ã£o do discurso do sistema:
  - De â€œclassificador automÃ¡ticoâ€
  - Para **apoio inteligente Ã  decisÃ£o humana**

---

## ğŸ§ª Fase 7 â€” IntegraÃ§Ã£o com RAG e Knowledge Graph  
**PerÃ­odo:** ExpansÃ£o cognitiva

### âœ¨ Principais marcos
- IntegraÃ§Ã£o com Ã­ndices RAG (Normas,histÃ³rico de eventos).
- Uso de **LLMGraphTransformer** para extrair grafos de conhecimento.
- ExploraÃ§Ã£o de:
  - Similaridade semÃ¢ntica
  - Precursores de eventos
  - CoerÃªncia entre decisÃ£o e norma
- Base conceitual para artigos tÃ©cnicos futuros.

---

## ğŸš§ Estado Atual do Projeto

- Framework funcional, modular e extensÃ­vel.
- NÃ£o destinado a uso regulatÃ³rio automÃ¡tico.
- Enquadrado como:
  - Ferramenta experimental
  - Apoio Ã  classificaÃ§Ã£o
  - LaboratÃ³rio de raciocÃ­nio normativo assistido por IA

---

## ğŸ§­ PrÃ³ximos Passos (Roadmap)

- MÃ©tricas formais de qualidade da Ã¡rvore (entropia, centralidade).
- Aprendizado estrutural a partir do histÃ³rico de decisÃµes.
- VisualizaÃ§Ã£o grÃ¡fica das Ã¡rvores e caminhos decisÃ³rios.
- PublicaÃ§Ã£o cientÃ­fica dos resultados.
- Empacotamento como biblioteca reutilizÃ¡vel.

---

## ğŸ“Œ Nota Final

Este changelog Ã© parte integrante do projeto e reflete seu compromisso com:
- TransparÃªncia
- Explicabilidade
- GovernanÃ§a
- EvoluÃ§Ã£o cientÃ­fica responsÃ¡vel

